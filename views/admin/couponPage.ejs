<%- include('adminHeader') %>

<link rel="stylesheet" href="/static/adminProductPage.css">
<div
  class="d-flex"
  style="width: 80%; margin-left: 25px; justify-content: space-between"
>
  <h3 class="mb-5 mt-5">Coupons</h3>
</div>
<div class="d-flex justify-content-center" id="navbarNav">
    <form class="input-group" style="max-width: 500px; margin-right: 30px">
      <input
        type="search"
        class="form-control rounded"
        placeholder="Search"
        aria-label="Search"
        aria-describedby="search-addon"
      />
      <span class="input-group-text border-0" id="search-addon">
        <span class="material-icons">search</span>
      </span>
    </form>
    <a href="/admin/newcoupon" class="btn btn-secondary ml-2">Add New Coupon</a>
</div>
<div class="row" style="margin: 20px;">
    <div class="col-md-12">
        <table class="table table-success table-stripped table-hover">
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Description</th>
                    <th scope="col">Minimum Amount</th>
                    <th scope="col">Discount</th>
                    <th scope="col">Action</th>
                </tr>
            </thead>
            <tbody>
                <% coupons.forEach((coupon) => { %>
                    <tr>
                        <td><%= coupon.couponName %></td>
                        <td><%= coupon.couponDescription %></td>
                        <td><%= coupon.couponMinAmount %></td>
                        <td><%= coupon.couponDiscount %></td>
                        <% if(coupon.isActive) { %>
                            <td><a class="btn btn-outline-danger" href="/admin/couponstatus?id=<%= coupon._id %>">Disable</a></td>
                        <% } else  { %>
                            <td><a class="btn btn-outline-success" href="/admin/couponstatus?id=<%= coupon._id %>">Activate</a></td>
                        <% } %>
                    </tr>
                <% }) %>
            </tbody>
        </table>
    </div>
</div>