<%- include('adminHeader') %>

<style>
    .description-cell {
        max-width: 200px; /* Adjust the value as needed */
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
    }
</style>

<div class="d-flex" style="width: 80%; margin-left: 25px; justify-content: space-between;">
    <h3 class="mb-5 mt-5">Orders</h3>
</div>
<div class="d-flex justify-content-center" id="navbarNav">
    <form class="input-group" style="max-width: 500px; margin-right: 30px">
        <input
          type="search"
          class="form-control rounded"
          placeholder="Search by order id"
          aria-label="Search"
          aria-describedby="search-addon"
        />
        <span class="input-group-text border-0" id="search-addon">
          <span class="material-icons">search</span>
        </span>
    </form>
</div>

<div class="row" style="margin: 20px;">
    <div class="col-md-12">
        <table class="table table-success table-stripped table-hover">
            <thead>
                <tr>
                    <th scope="col">Order ID</th>
                    <th scope="col">Email</th>
                    <th scope="col">Total Amount</th>
                    <th scope="col">Payment Method</th>
                    <th scope="col">Order Status</th>
                    <th scope="col">Actions</th>
                </tr>
            </thead>
            <tbody>
                <% orders.forEach((order) => { %>
                    <tr>
                        <td class="description-cell"><%=order._id%></td>
                        <td class="description-cell"><%=order.purchaseEmail%></td>
                        <td class="description-cell"><%=order.totalAmount%></td>
                        <td class="description-cell"><%=order.paymentMethod%></td>
                        <td class="description-cell"><%=order.orderStatus%></td>
                        <td><a href="/admin/orderdetails?id=<%=order._id%>" class="btn btn-outline-primary">View Details</a></td>
                    </tr>
                <% }) %>
            </tbody>
        </table>
    </div>
</div>